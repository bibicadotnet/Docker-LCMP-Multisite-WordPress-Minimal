# Cấu hình chung cho tất cả các domain
(wordpress_security) {
    @disallowed {
        not path /wp-includes/ms-files.php
        path /wp-admin/includes/*.php
        path /wp-includes/*.php
        path /wp-config.php
        path /wp-content/uploads/*.php
        path /.user.ini
        path /wp-content/debug.log
        path *.sql
        path *.sqlite
    }
    rewrite @disallowed '/index.php'
}

(static_header) {
    @static {
        file
        path *.css *.js *.ico *.woff *.woff2
    }
    handle @static {
        header Cache-Control "public, max-age=31536000"
    }

    @static-img {
        file
        path *.gif *.jpg *.jpeg *.png *.svg *.webp *.avif
    }
    handle @static-img {
        header Cache-Control "public, max-age=31536000, immutable"
    }
}

(header_remove) {
    header -Link
    header -Server
    header -X-Pingback
    header -X-Powered-By
}

# Cấu hình cho website bibica.net
import /config/bibica.net/bibica.net.conf
# Cấu hình cho website haproxy.tech
import /config/haproxy.tech/haproxy.tech.conf
